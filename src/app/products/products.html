<h3>Product voorraad & prijs:</h3>

<button class="add-button" (click)="openAddProductModal()">Toevoegen</button>

<div *ngIf="showAddProduct">
    <input type="text" [(ngModel)]="newProduct.name" placeholder="Productnaam" />
    <input type="number" [(ngModel)]="newProduct.quantity" placeholder="Aantal" />
    <input type="number" step="0.01" [(ngModel)]="newProduct.price" placeholder="Prijs (â‚¬)" />
    <select [(ngModel)]="newProduct.category">
      <option value="">Selecteer categorie</option>
      <option value="Drank">Drank ğŸ§ƒ</option>
      <option value="Brood">Brood ğŸ</option>
      <option value="Kaas">Kaas ğŸ§€</option>
      <option value="Verzorging">Verzorging ğŸ§´</option>
      <option value="Conserven">Conserven ğŸ¥«</option>
      <option value="Fruit">Fruit ğŸ</option>
      <option value="Groente">Groente ğŸ¥¦</option>
</select>


    <button class="add-button" (click)="addProduct()">Add Product</button>
    <button class="delete-button" (click)="closeAddProductModal()">âŒ Annuleren</button>
</div>

<select [(ngModel)]="selectedCategory">
  <option value="">ğŸ“¦ Toon alle categorieÃ«n</option>
  <option value="Drank">ğŸ§ƒ Drank</option>
  <option value="Brood">ğŸ Brood</option>
  <option value="Kaas">ğŸ§€ Kaas</option>
  <option value="Verzorging">ğŸ§´ Verzorging</option>
  <option value="Conserven">ğŸ¥« Conserven</option>
  <option value="Fruit">ğŸ Fruit</option>
  <option value="Groente">ğŸ¥¦ Groente</option>
</select>

@if (!productItems().length) {
    <p>Loading...</p>
}

<p>Aantal producten: {{ products.length }}</p>

@for (product of filteredProducts; track product._id) {

  <div style="display: flex; justify-content: space-between; align-items: center;">
    <p style="margin: 0;">
      {{ getCategoryIcon(product.category) }} <strong>{{ product.name }}</strong> â€“ 
      {{ product.quantity }} stuks â€“ â‚¬{{ product.price }}
    </p>
    <div>
      <button class="edit-button" (click)="openEditProduct(product)">âœï¸ Bewerken</button>
      <button class="delete-button" (click)="deleteProduct(product._id)">ğŸ—‘ Verwijderen</button>
    </div>
  </div>
}

<div *ngIf="editProductId">
  <h4>Product bijwerken</h4>
  <input type="text" [(ngModel)]="editProductForm.name" placeholder="Naam" />
  <input type="number" [(ngModel)]="editProductForm.quantity" placeholder="Aantal" />
  <input type="number" step="0.01" [(ngModel)]="editProductForm.price" placeholder="Prijs (â‚¬)" />
  <select [(ngModel)]="editProductForm.category">
  <option value="">Selecteer categorie</option>
  <option value="Drank">Drank ğŸ§ƒ</option>
  <option value="Brood">Brood ğŸ</option>
  <option value="Kaas">Kaas ğŸ§€</option>
  <option value="Verzorging">Verzorging ğŸ§´</option>
  <option value="Conserven">Conserven ğŸ¥«</option>
  <option value="Fruit">Fruit ğŸ</option>
  <option value="Groente">Groente ğŸ¥¦</option>
</select>

  
  <button class="edit-button" (click)="updateProduct()">âœ… Opslaan</button>
  <button class="delete-button" (click)="editProductId = null">âŒ Annuleren</button>
</div>


